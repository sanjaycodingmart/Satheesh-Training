{"ast":null,"code":"var _jsxFileName = \"/home/satheeshkumar/Desktop/myapp/src/Fetch.js\";\nimport React, { Component } from 'react';\nimport Image from \"./Image\";\nimport './css/style.css';\nimport { connect } from 'react-redux';\nimport { Spin } from 'antd';\nimport * as firebase from 'firebase';\nwindow.$img_array = []; //var api='HUdzmG9oky8WRmLzxelOmioGiDHIm0VJ';\n\nclass Fetch extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      books: '',\n      Images: [],\n      loading: false\n    };\n  }\n\n  async getdetails(search_key) {\n    var url = 'https://api.nytimes.com/svc/books/v3/lists/current/' + search_key + '.json?api-key=HUdzmG9oky8WRmLzxelOmioGiDHIm0VJ';\n    var response = await fetch(url);\n    var data = await response.json();\n    var image = data.results.books.map(e => e.book_image);\n    this.setState({\n      Images: image\n    });\n    const ref = firebase.database().ref(\"fetch\");\n    ref.set(image);\n    ref.on(gotdata, errordata);\n\n    function gotdata(data) {}\n\n    function errordata(data) {}\n  }\n\n  componentDidMount() {\n    this.setState({\n      loading: true\n    });\n    this.getdetails(this.props.name);\n    setTimeout(() => {\n      this.setState({\n        loading: false\n      });\n    }, 2000);\n  }\n\n  render() {\n    return React.createElement(\"main\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 44\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 45\n      },\n      __self: this\n    }, React.createElement(\"h1\", {\n      className: \"heading\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 46\n      },\n      __self: this\n    }, \"Book Details\")), React.createElement(\"div\", {\n      className: \"image\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 49\n      },\n      __self: this\n    }, React.createElement(Spin, {\n      spinning: this.state.loading,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 50\n      },\n      __self: this\n    }, React.createElement(Image, {\n      obj: this.state.Images,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 51\n      },\n      __self: this\n    }))));\n  }\n\n}\n\nfunction mapStateToProps(state) {\n  return {\n    name: state.name\n  };\n}\n\nexport default connect(mapStateToProps)(Fetch);","map":{"version":3,"sources":["/home/satheeshkumar/Desktop/myapp/src/Fetch.js"],"names":["React","Component","Image","connect","Spin","firebase","window","$img_array","Fetch","state","books","Images","loading","getdetails","search_key","url","response","fetch","data","json","image","results","map","e","book_image","setState","ref","database","set","on","gotdata","errordata","componentDidMount","props","name","setTimeout","render","mapStateToProps"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAOC,KAAP,MAAkB,SAAlB;AACA,OAAO,iBAAP;AACA,SAASC,OAAT,QAAwB,aAAxB;AACA,SAASC,IAAT,QAAqB,MAArB;AACA,OAAO,KAAKC,QAAZ,MAA0B,UAA1B;AACAC,MAAM,CAACC,UAAP,GAAkB,EAAlB,C,CACA;;AACA,MAAMC,KAAN,SAAoBP,SAApB,CAA8B;AAAA;AAAA;AAAA,SAC1BQ,KAD0B,GAClB;AACJC,MAAAA,KAAK,EAAC,EADF;AAEJC,MAAAA,MAAM,EAAC,EAFH;AAGJC,MAAAA,OAAO,EAAC;AAHJ,KADkB;AAAA;;AAOxB,QAAMC,UAAN,CAAiBC,UAAjB,EAA6B;AAC3B,QAAIC,GAAG,GAAC,wDAAsDD,UAAtD,GAAiE,gDAAzE;AACA,QAAIE,QAAQ,GAAC,MAAMC,KAAK,CAACF,GAAD,CAAxB;AACA,QAAIG,IAAI,GAAC,MAAMF,QAAQ,CAACG,IAAT,EAAf;AACA,QAAIC,KAAK,GAACF,IAAI,CAACG,OAAL,CAAaX,KAAb,CAAmBY,GAAnB,CAAwBC,CAAC,IAAEA,CAAC,CAACC,UAA7B,CAAV;AACA,SAAKC,QAAL,CAAc;AACZd,MAAAA,MAAM,EAACS;AADK,KAAd;AAGA,UAAMM,GAAG,GAACrB,QAAQ,CAACsB,QAAT,GAAoBD,GAApB,CAAwB,OAAxB,CAAV;AACAA,IAAAA,GAAG,CAACE,GAAJ,CAAQR,KAAR;AACAM,IAAAA,GAAG,CAACG,EAAJ,CAAOC,OAAP,EAAeC,SAAf;;AACA,aAASD,OAAT,CAAiBZ,IAAjB,EAAsB,CAErB;;AACD,aAASa,SAAT,CAAmBb,IAAnB,EAAwB,CAEvB;AACF;;AACDc,EAAAA,iBAAiB,GAAE;AACjB,SAAKP,QAAL,CAAc;AAACb,MAAAA,OAAO,EAAC;AAAT,KAAd;AACA,SAAKC,UAAL,CAAgB,KAAKoB,KAAL,CAAWC,IAA3B;AACAC,IAAAA,UAAU,CAAC,MAAI;AACT,WAAKV,QAAL,CAAc;AAACb,QAAAA,OAAO,EAAC;AAAT,OAAd;AACD,KAFK,EAEJ,IAFI,CAAV;AAGG;;AAELwB,EAAAA,MAAM,GAAG;AACH,WACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI;AAAI,MAAA,SAAS,EAAC,SAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBADJ,CADJ,EAKI;AAAK,MAAA,SAAS,EAAC,OAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI,oBAAC,IAAD;AAAM,MAAA,QAAQ,EAAE,KAAK3B,KAAL,CAAWG,OAA3B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACA,oBAAC,KAAD;AAAO,MAAA,GAAG,EAAE,KAAKH,KAAL,CAAWE,MAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADA,CADJ,CALJ,CADA;AAaP;;AA/CyB;;AAgD9B,SAAS0B,eAAT,CAAyB5B,KAAzB,EAAgC;AAC1B,SAAO;AACFyB,IAAAA,IAAI,EAAEzB,KAAK,CAACyB;AADV,GAAP;AAGD;;AACL,eAAe/B,OAAO,CAACkC,eAAD,CAAP,CAA0B7B,KAA1B,CAAf","sourcesContent":["import React, { Component } from 'react'\nimport Image from \"./Image\"\nimport './css/style.css';\nimport { connect } from 'react-redux';\nimport { Spin } from 'antd';\nimport * as firebase from 'firebase';\nwindow.$img_array=[];\n//var api='HUdzmG9oky8WRmLzxelOmioGiDHIm0VJ';\nclass Fetch extends Component {\n    state = {\n        books:'',\n        Images:[],\n        loading:false\n      }\n    \n      async getdetails(search_key) {\n        var url='https://api.nytimes.com/svc/books/v3/lists/current/'+search_key+'.json?api-key=HUdzmG9oky8WRmLzxelOmioGiDHIm0VJ';\n        var response=await fetch(url);\n        var data=await response.json();\n        var image=data.results.books.map((e=>e.book_image));\n        this.setState({\n          Images:image\n        })\n        const ref=firebase.database().ref(\"fetch\");\n        ref.set(image);\n        ref.on(gotdata,errordata);\n        function gotdata(data){\n\n        }\n        function errordata(data){\n          \n        }\n      }\n      componentDidMount(){\n        this.setState({loading:true})\n        this.getdetails(this.props.name);\n        setTimeout(()=>{\n              this.setState({loading:false})\n            },2000)\n          }\n      \n      render() { \n            return(\n            <main>\n                <div>\n                    <h1 className='heading'>Book Details</h1>\n                </div>\n\n                <div className='image'>\n                    <Spin spinning={this.state.loading}>\n                    <Image obj={this.state.Images}/>\n                    </Spin>\n                </div>\n            </main>\n            )\n    }}\nfunction mapStateToProps(state) {\n      return {\n           name: state.name \n          }\n    }\nexport default connect(mapStateToProps) (Fetch);\n"]},"metadata":{},"sourceType":"module"}